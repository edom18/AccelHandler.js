(function(e,t,n,r){function i(e){this.init_.apply(this,arguments)}function f(e,t){var n,r,i,s;if(!e)return!1;n=this.handlers||(this.handlers={}),r=n[e]||[],i=r.length;while(i--)(s=r[i])&&s[0].call(s[1]||this,t)}function l(e,t,n){var r=this.handlers||(this.handlers={});if(!e)return!1;(r[e]||(r[e]=[])).push([t,n])}function c(e,t,n){function i(){r.off(e,i),t.apply(n,arguments),n=null,r=null,i=null}var r=this;this.on(e,i,n)}function h(e,t){var n,r,i;if(!e)return!1;n=this.handlers||(this.handlers={}),r=n[e]||[],i=r.length;if(!t)this.handlers[e]=[];else while(i--)r[i][0]===t&&r.splice(i,1)}i.fn=i.prototype;var s="ontouchstart"in window,o=s?"touchstart":"mousedown",u=s?"touchmove":"mousemove",a=s?"touchend":"mouseup";Function.prototype.bind||(Function.prototype.bind=function(e){var t=[].slice,n=t.call(arguments,1),r=this,i=function(){},s=function(){return r.apply(this instanceof i?this:e||{},n.concat(t.call(arguments)))};return i.prototype=r.prototype,s.prototype=new i,s}),i.fn.init_=function(e){this.element_=e,this.moving_=!1,this.prevAcc_=0,this.acc_=0,this.prevPos_=0,this.prevT_=0,this.v_=0,this.pos_=0,this.animationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.requestAnimationFrame||function(e){setTimeout(e,32)},this.setEvents_()},i.EventType={START:"movestart",MOVE:"movemove",END:"moveend"},i.fn.setEvents_=function(){this.element_.addEventListener(o,this.start_.bind(this),!1),t.addEventListener(u,this.move_.bind(this),!1),t.addEventListener(a,this.end_.bind(this),!1)},i.fn.start_=function(e){this.moving_=!0,this.prevPos_=e.clientY,this.prevT_=+(new Date),this.prevV_=0,this.trigger(i.EventType.START)},i.fn.end_=function(e){function s(){var e=t.v_;t.v_=e-e/30<<0,t.trigger(i.EventType.MOVE,{position:t.pos_-=t.v_});if(n(t.v_)<=1){t.trigger(i.EventType.END),t.v_=0,t=null,s=null,r=null;return}r(s)}this.moving_=!1;var t=this,n=Math.abs,r=this.animationFrame;s()},i.fn.move_=function(e){if(!this.moving_)return;var t=e.clientY,n=+(new Date),r=n-this.prevT_,s=t-this.prevPos_,o=s/(r||(r=1)),u=(o-this.prevV_)/r;this.acc_+=u*r,this.prevT_=n,this.prevPos_=t,this.prevV_=o,this.v_=this.acc_*r,this.pos_-=s,this.trigger(i.EventType.MOVE,{position:this.pos_})},i.fn.trigger=f,i.fn.fire=f,i.fn.bind=l,i.fn.on=l,i.fn.one=c,i.fn.unbind=h,i.fn.off=h,n.AccelHandler=i})(window,window.document,window);